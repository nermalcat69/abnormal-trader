import { unref } from 'vue';

function k(e){return e!==null&&typeof e=="object"}function x(e,t,r=".",o){if(!k(t))return x(e,{},r,o);let n=Object.assign({},t);for(let i in e){if(i==="__proto__"||i==="constructor")continue;let s=e[i];s!=null&&(o&&o(n,i,s,r)||(Array.isArray(s)&&Array.isArray(n[i])?n[i]=[...s,...n[i]]:k(s)&&k(n[i])?n[i]=x(s,n[i],(r?`${r}.`:"")+i.toString(),o):n[i]=s));}return n}function m(e){return (...t)=>t.reduce((r,o)=>x(r,o,"",e),{})}var J=m();var $=new RegExp("\\{([^}]+)\\}","g"),R=/{(.*)}/g,b=/@([^\s]+)/g,q=/@([^\s]+)\s{/g,j=/(@dark\s{)/g,ee=/(@light\s{)/g,T="@dark",h="@light",F="@initial",ne=/\$dt\(['|`|"]([a-zA-Z0-9.]+)['|`|"](?:,\s*(['|`|"]([a-zA-Z0-9.]+)['|`|"]))?\)?/g,te=/(...)?variants(,)?/mg,ie=/^(:|\.)/,re=["/__pinceau_css.css","/__pinceau_ts.ts","/__pinceau_utils.ts"];function se(e,t,r,o="."){typeof t=="string"&&(t=t.split(o));let n=t.length-1;for(let s=0;s<n;++s){let f=t[s];e=e[f]??(e[f]={});}let i=t[n];e[i]=r;}function A(e,t,r="."){typeof t=="string"&&(t=t.split(r));let o=t.length-1;for(let i=0;i<o;++i){let s=t[i];e=e[s]??(e[s]={});}let n=t[o];return e[n]}function I(e,t,r=[]){let o={};if(e.value)o=t(e,o,r);else for(let n in e)e[n]&&typeof e[n]=="object"&&(o[n]=I(e[n],t,[...r,n]));return o}function M(e,t,r=!1){let o={};if(e.value)o=e;else for(let n in e){if(n==="$schema"){r||(o[n]=e[n]);continue}if(n==="utils"){o[n]=e[n];continue}if(e[n]&&(typeof e[n]=="string"||typeof e[n]=="number"||typeof e[n]=="boolean"||typeof e[n]=="symbol"||typeof e[n]=="bigint"))o[n]={value:e[n]};else if(e[n]&&typeof e[n]=="object"){let i=Object.keys(e[n]);if(i.includes("initial")&&i.some(s=>t.includes(s))){o[n]={value:e[n]};continue}o[n]=M(e[n],t,r);}}return o}function le(e={},t={}){let r={key:"attributes.variable",onNotFound:!1,...t};function o(n=void 0,i){if(!n)return unref(e);let s={...r,...i},{key:f,onNotFound:a}=s,u=A(unref(e),n);if(!u&&typeof a=="function"){a(n,s);return}return f?u&&(u[f]?u[f]:A(u,f)):u}return o.bind(this)}function pe(e){return (e||"").replace(R,(t,r)=>w(r))}function w(e){return `var(${C(e)})`}function C(e){return Array.isArray(e)&&(e=e.join("-")),e.charAt(0)==="{"&&e.charAt(e.length-1)==="}"&&(e=e.substr(1,e.length-2)),`--${e.split(".").join("-")}`}function ke(e,t,r,o,n=[],i,s){let f=V(e,t,o,i,s);return f||(i?.utils?.[e]?typeof i.utils[e]=="function"?i.utils[e](t):t?i.utils[e]:{}:(t=D(e,t,n,i,s),{[e]:t}))}function D(e,t,r,o,n){return (Array.isArray(t)||typeof t=="string"||typeof t=="number")&&(Array.isArray(t)?t=t.map(i=>L(e,i,r,o,n)).join(","):t=L(e,t,r,o,n)),t}function L(e,t,r,o,n){return typeof t=="number"?t:(t.match($)&&(t=U(e,t,r,o,n)),t==="{}"?"":t)}function U(e,t,r,o,n){return typeof t!="string"||(t=t.replace($,(i,s)=>{let f=C(s),a=`var(${f})`;if(r.includes(f))return a;let u=o.$tokens(s,{key:void 0,loc:n}),c=typeof u=="string"?u:u?.variable||u?.value;return c||a})),t}function V(e,t,r,o,n){if(e.startsWith("@")){let i=f=>{f=o.options.colorSchemeMode==="class"?`:root.${f}`:`@media (prefers-color-scheme: ${f})`;let a=f.startsWith("@media");return o?.runtime?{"@media":{[f]:t}}:{[a?f:`${f} &`]:t}};if(e===T)return i("dark");if(e===h)return i("light");if(e===F){let f=o.$tokens("media.initial",{key:"value",onNotFound:!1,loc:n});return {[`@media${f?` ${f}`:""}`]:t}}let s=o.$tokens("media",{key:void 0,loc:n});if(s){let f=e.replace("@","");if(s[f])return {[`@media ${s[f].value}`]:t}}return {[e]:t}}}function xe(e,t,r,o){let n="";if(e==="dark"||e==="light")o==="class"?n=`:root.${e}`:n=`(prefers-color-scheme: ${e})`;else if(e!=="initial"&&r){let s=r?.media?.[e];s&&(n=s.value);}let i;return n?n.startsWith(".")?i=`@media { :root${n} {`:n.startsWith(":root")?i=`@media { ${n} {`:i=`@media ${n} { :root {`:i="@media { :root {",`${`${`${i}--pinceau-mq: ${String(e)}; ${t}`} } }`}
`}var H=/\d/,W=["-","_","/","."];function v(e=""){if(!H.test(e))return e.toUpperCase()===e}function N(e,t){let r=t??W,o=[];if(!e||typeof e!="string")return o;let n="",i,s;for(let f of e){let a=r.includes(f);if(a===!0){o.push(n),n="",i=void 0;continue}let u=v(f);if(s===!1){if(i===!1&&u===!0){o.push(n),n=f,i=u;continue}if(i===!0&&u===!1&&n.length>1){let c=n[n.length-1];o.push(n.slice(0,Math.max(0,n.length-1))),n=c+f,i=u;continue}}n+=f,i=u,s=a;}return o.push(n),o}function E(e){return e?e[0].toUpperCase()+e.slice(1):""}function Q(e){return e?e[0].toLowerCase()+e.slice(1):""}function z(e){return e?(Array.isArray(e)?e:N(e)).map(t=>E(t)).join(""):""}function $e(e){return Q(z(e))}function O(e,t){return e?(Array.isArray(e)?e:N(e)).map(r=>r.toLowerCase()).join(t??"-"):""}var P=/\s*,\s*(?![^()]*\))/,B=(e,t)=>e.reduce((r,o)=>(r.push(...t.map(n=>n.includes("&")?n.replace(/&/g,/[ +>|~]/.test(o)&&/&.*&/.test(n)?`:is(${o})`:o):`${o} ${n}`)),r),[]),{prototype:{toString:G}}=Object,Re=(e,t=void 0)=>{let r=new WeakSet,o=(i,s,f,a,u,c,l)=>{for(let y=0;y<f.length;++y)r.has(f[y])||(r.add(f[y]),i+=`${f[y]}{`);return s.length&&!r.has(s)&&(r.add(s),i+=`${s}{`),c?a=`${a} `:l?a=`${a}:`:a=`${O(a)}:`,i+=`${a+String(u)};`,i},n=(i,s,f,a,u)=>{let c="";for(let l in i){let y=l.charCodeAt(0)===64,_=l.charCodeAt(0)===45&&l.charCodeAt(1)===45;for(let d of y&&Array.isArray(i[l])?i[l]:[i[l]]){if(t&&(l!==a||d!==u)){let p=t(l,d,i,s);if(p!==null){c+=typeof p=="object"&&p?n(p,s,f,l,d):p??"";continue}}if(typeof d=="object"&&d&&d.toString===G){r.has(s)&&(r.delete(s),c+="}");let p=Object(l),g;y?(g=s,c+=n(d,g,f.concat(p))):(g=s.length?B(s,l.split(P)):l.split(P),c+=n(d,g,f)),r.has(p)&&(r.delete(p),c+="}"),r.has(g)&&(r.delete(g),c+="}");}else c=o(c,s,f,l,d,y,_);}}return c};return n(e,[],[])};

export { D as A, L as B, U as C, V as D, xe as E, B as F, Re as G, m as a, J as b, $e as c, O as d, $ as e, R as f, b as g, q as h, j as i, ee as j, T as k, h as l, F as m, ne as n, te as o, ie as p, re as q, se as r, A as s, I as t, M as u, le as v, pe as w, w as x, C as y, ke as z };
