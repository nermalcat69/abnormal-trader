import { v, r, s, G as G$1, z as z$1, u, t, y, C, E, d, b } from './chunk-JF6P2XWI.js';
export { v as createTokensHelper, z as resolveCssProperty, G as stringify } from './chunk-JF6P2XWI.js';
import './chunk-6AKBLYIL.js';
import { inject, ref, getCurrentInstance, computed, watch, onScopeDispose, unref } from 'vue';

var T=(o=21)=>crypto.getRandomValues(new Uint8Array(o)).reduce((r,n)=>(n&=63,n<36?r+=n.toString(36):n<62?r+=(n-26).toString(36).toUpperCase():n>62?r+="-":r+="_",r),"");var q=".phy[--]";function L(o,r={},n,e){let t=ref(),a=ref(r),i={},p=(y,s)=>G$1(y,(u,l,d,m)=>z$1(u,l,d,m,[],{$tokens:o,utils:a.value,options:{colorSchemeMode:n,runtime:!0}},s));function R(){let y=globalThis||window,s,u;if(y&&y.document){let l=`pinceau-runtime${e?`-${e}`:""}`,d=y.document;if(s=d.querySelector(`style#${l}`),!s){let m=d.createElement("style");m.id=l,m.type="text/css",s=d.head.appendChild(m);}u=d.querySelector(`style#pinceau-runtime-hydratable${e?`-${e}`:""}`);}return t.value=s?.sheet||B(),u?h(u):void 0}function h(y){let s={};for(let u of Object.entries(y?.sheet?.cssRules||t.value?.cssRules||{})){let[l,d]=u,m=G(d);if(!m||!m.uid)continue;s[m.uid]||(s[m.uid]={});let v=t.value.insertRule(d.cssText,Number(l));s[m.uid][m.type]=t.value.cssRules.item(v);}return y&&y.remove(),s}function f(){return t.value?Object.entries(t.value.cssRules).reduce((y,[,s])=>(y+=`${s?.cssText} `||"",y),""):""}function g(y,s,u,l,d){if(!Object.keys(u).length)return;let m=p({"@media":{[q]:{"--puid":`${y}-${s}`},...u}},d);if(!m)return;l&&c(l);let v=t.value.insertRule(m);return t.value.cssRules[v]}function c(y){let s=Object.values(t.value.cssRules).indexOf(y);if(!(typeof s>"u"||isNaN(s)))try{t.value.deleteRule(s);}catch{}}let S=R();return {stringify:p,cache:i,pushDeclaration:g,deleteRule:c,sheet:t,toString:f,hydratableRules:S}}function B(){return {cssRules:[],insertRule(o,r=this.cssRules.length){return this.cssRules.splice(r,1,{cssText:o}),r},deleteRule(o){delete this.cssRules[o];}}}function G(o){let r=o.cssRules&&o.cssRules.length?Object.entries(o?.cssRules).find(([a,i])=>i.selectorText===q):void 0;if(!r)return;let n=/--puid:(.*)?-(c|v|p)?/m,[,e,t]=r[1].cssText.match(n);if(e)return {uid:e,type:t}}function H(o,r,n){let e,t=o?.vnode?.el;t&&t.classList?t.classList.forEach(p=>{e||p.startsWith("pc-")&&(e=p.split("pc-")[1]);}):e=T(6);let a=o?.vnode?.type?.__scopeId,i={uid:e,componentId:a?`[${a}]`:"",uniqueClassName:`pc-${e}`};return r.value.c=i.uniqueClassName,computed(()=>i)}function F(o,r$1={},n){let e=ref(),t$1=ref(o||{});r$1=Object.assign({key:"variable"},r$1||{});let a=v(t$1,r$1),i={};R(),import.meta.hot&&import.meta.hot.on("pinceau:themeUpdate",s=>{let u=document.createElement("style");u.id="pinceau-theme",u.textContent=s.css,e.value.ownerNode.replaceWith(u),e.value=u.sheet,h(e.value.cssRules);});function p(s){for(let u of s.styleSheets)if(u?.ownerNode?.textContent.includes("--pinceau-mq"))return u.ownerNode}function R(){let s=globalThis||window;if(s&&s.document){let u=document.querySelector("#pinceau-theme");u||(u=p(document)),e.value=u?.sheet,e.value&&h(e.value?.cssRules);}}function h(s){i={},Object.entries(s||{}).forEach(([u,l])=>{if(l?.type!==4&&!l?.cssText?.includes("--pinceau-mq"))return !1;let d="initial";l.cssText.match(/--([\w-]+)\s*:\s*(.+?);/gm)?.forEach(m=>{let[v,P]=m.replace(";","").split(/:\s(.*)/s);if(v==="--pinceau-mq"){if(d=P,!i[P]){let _=Object.entries(l?.cssRules||{}).find(([he,Y])=>Y?.cssText.includes(`--pinceau-mq: ${P}`))?.[1];_&&(i[P]=_);}return}let M=[...v.substring(2).split("-")];r(t$1.value,M,S(M,P,v,d));});});}function f(s){let u$1=Array.from(new Set(["dark","light",...Object.keys(s?.media||{}),...Object.keys(t$1.value?.media||{})])),l=u(s||{},u$1,!0);t(l,(d,m,v)=>g(v,d.value));}function g(s,u,l="initial"){if(typeof u=="object"){Object.entries(u).forEach(([v,P])=>g(s,P,v));return}let d=y(s);i?.[l]||y$1(l);let m=C(void 0,u,[],{$tokens:a});r(t$1.value,s,S(s,m,d,l)),i?.[l]?.style.setProperty(d,m);}function c(s$1){return computed({get(){return s(t$1.value,`${s$1}.value`)},set(u){g(s$1,u);}})}function S(s$1,u,l,d="initial"){let m={value:u,variable:`var(${l})`},v=s(t$1.value,s$1);return v&&!l.startsWith("--media")&&(typeof v?.value=="object"?m.value={...v.value,[d]:u}:m.value={initial:v.value,[d]:u}),m}function y$1(s){if(i?.[s])return i?.[s];let u=E(s,"",t$1.value,n),l=e.value.insertRule(u,e.value.cssRules.length);return i[s]=e.value.cssRules.item(l).cssRules[0],i[s]}return {$tokens:a,updateToken:g,updateTheme:f,reactiveToken:c,resolveStylesheet:R,theme:t$1}}function Q(o,r,n,e){let t=n.hydratableRules?.[o.value.uid]?.c;watch(()=>r,a=>{a=te(o.value,a),t=n.pushDeclaration(o.value.uid,"c",a,t,{...e,type:"c"});},{immediate:!t,deep:!0}),onScopeDispose(()=>t&&n.deleteRule(t));}function te(o,r){let n={},e=`.${o.uniqueClassName}${o.componentId}`;if(r&&Object.keys(r).length){n[e]=n[e]||{};for(let[t,a]of Object.entries(r)){let i=unref(a);if(t==="css"){n[e]=Object.assign(n[e],i);continue}if(typeof i=="object")for(let[p,R]of Object.entries(i)){let h=unref(R);if(!h)continue;p==="initial"&&(n[e]||(n[e]={}),n[e]||(n[e]={}),n[e][`--${t}`]=h);let f=`@${p}`;n[f]||(n[f]={}),n[f][e]||(n[f][e]={}),n[f][e][`--${d(t)}`]=h;}else {let p=unref(i);p&&(n[e][`--${d(t)}`]=p);}}}return n}var W=(o,r,n,e,t,a)=>{let i=e.hydratableRules?.[o.value.uid]?.v,p=computed(()=>r?ue(o.value,n,r):{}),R=ref([]);return watch(p,({cacheId:h,variantsProps:f})=>{let g;if(e.cache[h]){let c=e.cache[h];i=c.rule,g=c.variantClass,c?.classes&&(R.value=c.classes),c.count++;}else {g=`pv-${T(6)}`;let{declaration:c,classes:S}=re(g,o.value,r,f);R.value=S,i=e.pushDeclaration(o.value.uid,"v",c,void 0,{...a,type:"v"}),e.cache[h]={rule:i,variantClass:g,classes:S,count:1};}t.value.v=g;},{immediate:!0}),onScopeDispose(()=>{let h=p?.value,f=e.cache?.[h.cacheId];f&&(f.count--,f.count<=0&&(e.deleteRule(f.rule),delete e.cache[h.cacheId]));}),{variantsClasses:R}};function re(o,r,n,e){let t=[],a={};if(e&&Object.keys(e).length){let i=`.${o}`;for(let[p,R]of Object.entries(e))if(typeof R=="object")for(let[h,f]of Object.entries(R)){let g=f?.toString()||f,c=n[p][g];if(!c)continue;if(a[i]||(a[i]={}),typeof c=="string"||Array.isArray(c)||c?.$class){let y=typeof c=="string"||Array.isArray(c)?c:c.$class;t=[...t,...typeof y=="string"?y.split(" "):y],delete c.$class;}h==="initial"&&(a[i]||(a[i]={}),a[i]=b(a[i],c));let S=`@${h}`;a[S]||(a[S]={}),a[S][i]||(a[S][i]={}),a[S][i]=b(a[S][i],c);}else {let h=R?.toString?.()||R,f=n?.[p]?.[h];if(!f)continue;a[i]||(a[i]={}),a[i]=b(a[i],f);}}return {declaration:a,classes:t}}function ue(o,r,n){if(!r||!n)return {};let e=o.componentId,t=Object.entries(r).reduce((a,[i,p])=>(n[i]&&(typeof p=="object"?Object.entries(p).forEach(([R,h])=>e+=`${i}:${R}:${h}|`):e+=`${i}:${p}|`,a[i]=p),a),{});return {cacheId:e,variantsProps:t}}function z(o,r,n,e){let t=n.hydratableRules?.[o.value.uid]?.p,a=computed(()=>r?.css);watch(a,i=>{i=me(o.value,i),t&&n.deleteRule(t),t=n.pushDeclaration(o.value.uid,"p",i,t,{...e,type:"c"});},{immediate:!t}),onScopeDispose(()=>t&&n.deleteRule(t));}function me(o,r){let n={};if(r){let e=`.${o.uniqueClassName}${o.componentId}`;n[e]=Object.assign(n[e]||{},r);}return n}var de={theme:{},utils:{},tokensHelperConfig:{},multiApp:!1,colorSchemeMode:"media",dev:0 .NODE_ENV!=="production"},Xe={install(o,r){r=Object.assign(de,r);let{theme:n,tokensHelperConfig:e,dev:t,multiApp:a,colorSchemeMode:i,utils:p}=r,R=F(n,e,i);t&&(import.meta.hot||process.server)&&import('./debug-JURPTBLR.js').then(({usePinceauRuntimeDebug:c})=>c(e));let h=a?T(6):void 0,f=L(R.$tokens,p,i,h);function g(c={},S,y){let s=getCurrentInstance(),u;if(t&&(import.meta.hot||process.server)){let{__file:v,__name:P}=s.vnode.type;u={file:v,name:P};}let l=ref({v:"",c:""}),d=H(s,l);y&&Object.keys(y).length>0&&Q(d,y,f,u);let m;if(S&&Object.keys(S).length>0){let{variantsClasses:v}=W(d,S,c,f,l,u);m=v;}return c?.css&&Object.keys(c?.css).length>0&&z(d,c,f,u),{$pinceau:computed(()=>[l.value.v,l.value.c,m?.value?.join(" ")].join(" "))}}o.config.globalProperties.$pinceauRuntime=g,o.config.globalProperties.$pinceauTheme=R,o.config.globalProperties.$pinceauSsr={get:()=>f.toString()},o.provide("pinceauRuntime",g),o.provide("pinceauTheme",R);}};function tt(o,r,n){return inject("pinceauRuntime")(o,r,n)}function nt(){return inject("pinceauTheme")}var it={type:Object,required:!1,default:{}};function st(o,r=!1){return {type:[String,Object],default:o,required:r}}

export { st as computedStyle, it as cssProp, Xe as plugin, tt as usePinceauRuntime, nt as usePinceauTheme };
